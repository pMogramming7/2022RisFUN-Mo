income_long
income.world<-read.table('Data/metoo.txt',header=T, sep="\t", dec=".", na.strings = "n/a")
income.world
income.world_long <- income.world %>% pivot_longer(cols = -state,
names_to = c("gender", "work"),
names_sep = "_",
values_to = "income") #separation is underbar,"_"
income.world_long
income.world_long %>% pivot_wider(names_from = c(gender,work),
values_from = income,
names_sep = ".")
income.world_sep2 <- income %>% pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")
income.world_sep2
income.world_sep2 <- income %>% pivot_longer(cols = -1,
names_to = "var1",
values_to = "income") %>%
income.world_sep2
income.world_sep2 <- income %>% pivot_longer(cols = -1,
names_to = "var1",
values_to = "income") %>%
income.world_sep2
income.world_sep2 <- income %>% pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")%>%
income.world_sep2
income.world_sep2 <- income %>% pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")
income.world_sep2 <- income %>% pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")%>%
income.world_sep2
income.world
#create a dummy variable for manipulation
income.world_long_var <- income.world %>%  pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")
#create a dummy variable for manipulation
income.world_long_var <- income.world %>%  pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")
income.world_long_var
rm(list=ls())
install.packages("tidyr")
library (tidyr)
#Pivoting
Tw.corals <-read.table('Data/tw_corals.txt', header=T, sep='\t', dec='.')
Tw.corals
#turn wide table to long table
Tw.corals_long <- Tw.corals %>% pivot_longer(Southern_TW:Northern_Is, names_to = "Region", values_to = "Richness")
Tw.corals_long
#turn long table to wide table
Tw.corals_wide <- pivot_wider(Tw.corals_long, names_from = Region, values_from = Richness)
Tw.corals_wide
income.world<-read.table('Data/metoo.txt',header=T, sep="\t", dec=".", na.strings = "n/a")
income.world
#rearrange variables by separating them
income.world_long <- income.world %>% pivot_longer(cols = -state,
names_to = c("gender", "work"),
names_sep = "_",
values_to = "income") #separation is underbar,"_"
income.world_long
#you can also merge those back
income.world_long %>% pivot_wider(names_from = c(gender,work),
values_from = income,
names_sep = ".")
#create a dummy variable for manipulation
income.world_long_var <- income.world %>%  pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")
income.world_long_var
#split dummy "var1" to two columns
income.world_sep <- income_long_var %>%  separate(col = var1,
sep = "_",
into = c("gender", "work"))
rm(list=ls())
library (tidyr)
#Pivoting
Tw.corals <-read.table('Data/tw_corals.txt', header=T, sep='\t', dec='.')
Tw.corals
#turn wide table to long table
Tw.corals_long <- Tw.corals %>% pivot_longer(Southern_TW:Northern_Is, names_to = "Region", values_to = "Richness")
Tw.corals_long
#turn long table to wide table
Tw.corals_wide <- pivot_wider(Tw.corals_long, names_from = Region, values_from = Richness)
Tw.corals_wide
income.world<-read.table('Data/metoo.txt',header=T, sep="\t", dec=".", na.strings = "n/a")
income.world
#rearrange variables by separating them
income.world_long <- income.world %>% pivot_longer(cols = -state,
names_to = c("gender", "work"),
names_sep = "_",
values_to = "income") #separation is underbar,"_"
income.world_long
#you can also merge those back
income.world_long %>% pivot_wider(names_from = c(gender,work),
values_from = income,
names_sep = ".")
#create a dummy variable for manipulation
income.world_long_var <- income.world %>%  pivot_longer(cols = -1,
names_to = "var1",
values_to = "income")
income.world_long_var
#split dummy "var1" to two columns
income.world_sep <- income_long_var %>%  separate(col = var1,
sep = "_",
into = c("gender", "work"))
#split dummy "var1" to two columns
income.world_sep <- income.world_long_var %>%  separate(col = var1,
sep = "_",
into = c("gender", "work"))
income.world_sep
#also you can separate them in original column by split them in rows
income.world_long_var %>% separate_rows(var1, sep = "_")
Rairuoho <- read.table('Data/rairuoho.txt')
Rairuoho <- read.table('Data/rairuoho.txt, header=T, sep="\t', na.strings = "n/a")
Rairuoho <- read.table('Data/rairuoho.txt, header=T, sep="\t", na.strings = "n/a")
Rairuoho
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo =TRUE)
Rairuoho <- read.table('Data/rairuoho.txt, header=T, sep="\t", na.strings = "n/a")
Rairuoho <- read.table('Data/rairuoho.txt, header=T, sep="\t", na.strings = "n/a")
Rairuoho<-read.table('Data/rairuoho.txt, header=T, sep="\t", na.strings = "n/a")
Rairuoho<-read.table("Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
```{r, echo=FALSE}
```{r, echo= FALSE }
```{r rairuoho, echo= FALSE }
rairuoho<-read.table("Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho
rairuoho<-read.table("Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho
rm(list=ls())# clean memory
#call out library
library(datasets) #this is default packages in R
rm(list=ls())# clean memory
#call out library
library(datasets) #this is default packages in R
#remove existing list(all things in environment)
rm(list = ls())
data(iris) # import dataset
# 'data' automatically  creates the object 'iris'
head (iris) # visualize 'head' dataset 只看前幾行
summary(iris) #  object summary
#including 中位數、四分衛數、平均值
str(iris) #可以看組成和性質
fix(iris) # spreadsheet 另開視窗可以直接改資料
#用網路資料來分析
students<-read.table('https://www.dipintothereef.com/uploads/3/7/3/5/37359245/students.txt',header=T, sep="\t", dec='.') # read data set from url
str(students)
#選column
students$height
#subset
students$gender=="female" # condition 抓出性別那行是female的
f<-students$gender=="female" # filter 把符合條件的裝到f
females<-students[f,] # selection 資料student中選f那列，f只符合剛剛設的條件
females
#將females這個資料框加入列名
rownames(females)<-c('Vanessa', 'Vicky', 'Michelle', 'Joyce', 'Victoria')
females
#Sample(隨機抽樣)隨機選一範圍的數字(類似抽籤，抽幾個)
rs <- sample(1:nrow(females), 3)
females[rs,] #秀出剛剛符合條件(rs)的
#Sorting
#order()排名的概念，預設排小到大，出現的數字代表原本列號
or <- order(students$height)
students[or,]
orr <- order(-students$height) #加負號變排大到小
students[orr,]
order(students$height,decreasing =T) #跟上面加負號一樣
#Recording 這邊老師用判斷式ifelse，並且把TRUE的變成blue,FALSE的變成red
colors<-ifelse(students$gender=='male', 'blue','red')
colors
# create a new column-colors
students$colors<-ifelse(students$gender=='male','green','yellow')
# replace an existing column
students$gender<-ifelse(students$gender=='male', 'blue','red')
#Practice2.2
#create a new variable with flower colors
iris$color <- ifelse(iris$Species == 'setosa','purple',ifelse(iris$Species == 'versicolor','blue','pink'))
iris
#Sort individuals by decreasing Sepal.Width.
sort <- order(iris$Sepal.Width, decreasing = T)
BtoS <- iris[sort,] #把order的結果帶回去iris重新排順序
BtoS[nrow(iris),] #叫出最後一個row
#having the smallest sepal width
min(iris$Sepal.Width) #得知是2
min2<-iris$Sepal.Width==2
iris[min2,]
irisordered<-order(-iris$Petal.Length)
#Practice2.1
#setosa
s <- iris$Species == 'setosa'
catseto <- iris[s,]
#versicolors
ve<- iris$Species == 'versicolor'
catversi <- iris[ve,]
#virginica
vi<- iris$Species == 'virginica'
catvirg <- iris[vi,]
head(catversi)
subset(catversi[,1:5]) #for homework
# catversi$color<-NULL # (this will let "color column" lost, Be Careful!!!)
head(catversi)
callseto<- data.frame(matrix(ncol=0,nrow=50))
callseto$Sepal.Length= catseto$Sepal.Length
callseto$Petal.Length= catseto$Petal.Length
callseto$color= catseto$color
callseto
subset$Rairuoho[1:11]
subset(Rairuoho[1:11])
subset$Rairuoho(rairuoho[1:11])
subset(rairuoho[1:11])
rairuoho<-read.table("Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho
subset(rairuoho[1:11])
subset(rairuoho[1:11])
head(rairuoho)
(rairuoho)
head(Rairuoho)
head(rairuoho)
subset(rairuoho[1:11])
subset(rairuoho[1:11])
head(rairuoho)
subset(rairuoho[1:11])
subset()
head(rairuoho)
Rairuoho <- subset(rairuoho[1:11])
Rairuoho
Rairuoho %>% pivot_longer(cols = startsWith("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho %>% pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho %>% pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE") %>%
Rairuoho %>% pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE") %>%
Rairuoho
Rairuoho %>% pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE") %>%
Rairuoho
Rairuoho %>% pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho <- subset(rairuoho[1:11])
Rairuoho
Rairuoho %>% pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho <- subset(rairuoho[1:11])
Rairuoho
Rairuoho%>%pivot_longer(cols = starts_with("days"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho%>%pivot_longer(cols = starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
library(tidyr)
Rairuoho <- subset(rairuoho[1:11])
Rairuoho
Rairuoho%>%pivot_longer(cols = starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho
Rairuoho
Rairuoho%>%pivot_longer(cols = starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho
Rairuoho <- subset(rairuoho[1:11])
Rairuoho
Rairuoho.days <- Rairuoho %>%pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho.days
Rairuoho.unite <- Rairuoho.days %>% unite("sp_coor", 4:5, remove = TRUE)
Rairuoho.unite
library(tidyr)
rairuoho<-read.table("Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
library(tidyr)
rairuoho<-read.table("D:/R_WD/Git linked/2022RisFUN-Mo/Data", header=T, sep="\t", na.strings = "n/a")
library(tidyr)
rairuoho<-read.table("D:/R_WD/Git linked/2022RisFUN-Mo/Data", header=T, sep="\t", na.strings = "n/a")
rairuoho <- read.table("D:/R_WD/Git linked/2022RisFUN-Mo/Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho <- read.table("Data/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rm(list = ls())
library(datasets)
library(dplyr)
library(tidyr)
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
head(rairuoho)
rm(list = ls())
library(tidyverse)
rm(list = ls())
library(tidyverser)
instell.package("tidyverse")
instell.packages("tidyverse")
install.packages("tidyverse")
library(tidyverserse)
library(tidyverse)
rairuohoo <- read.delim('https://www.dipintothereef.com/uploads/3/7/3/5/37359245/rairuoho.txt')
library(tidyverse)
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
Rairuoho <- subset(rairuoho[1:11])
Rairuoho.days <- Rairuoho %>%  pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho.coordinate <- Rairuoho.days %>% unite("sp_coor", 4:5, remove = TRUE)
<- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
head(Rairuoho.coordinate, 3)
tail(Rairuoho.coordinate, 5)
head(Rairuoho.coordinate, 3)
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
head(Rairuoho.coordinate, 3)
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
head(Rairuoho.mutate, 3)
tail(Rairuoho.mutate, 5)
Rairuoho.coordinate <- Rairuoho.days %>% unite("sp_coor", 4:5, sep = "_", remove = TRUE)
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
head(Rairuoho.mutate, 3)
tail(Rairuoho.mutate, 5)
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuohoo <- read.delim('https://www.dipintothereef.com/uploads/3/7/3/5/37359245/rairuoho.txt')
head(rairuoho)
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuohoo <- read.delim('https://www.dipintothereef.com/uploads/3/7/3/5/37359245/rairuoho.txt')
rairuohoo <- read.delim('https://www.dipintothereef.com/uploads/3/7/3/5/37359245/rairuoho.txt')
head(rairuoho)
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
```{r, eval=TRUE, echo=FALSE}
rairuoho <- read.table("Data.manipulation/rairuoho.txt", header=T, sep="\t", na.strings = "n/a")
rairuohoo <- read.delim('https://www.dipintothereef.com/uploads/3/7/3/5/37359245/rairuoho.txt')
Rairuoho.days <- Rairuoho %>% pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho.days <- Rairuoho pivot_longer(cols=starts_with("day"),
Rairuoho.days <- Rairuoho %>% pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho <- subset(rairuoho[1:11])
Rairuoho.days <- Rairuoho %>% pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho.coordinate <- Rairuoho.days %>% unite("sp_coor", 4:5, sep = "_", remove = TRUE)
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
library(datasets)
Rairuoho <- subset(rairuoho[1:11])
Rairuoho.days <- Rairuoho %>% pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
Rairuoho.coordinate <- Rairuoho.days %>% unite("sp_coor", 4:5, sep = "_", remove = TRUE)
Rairuoho.mutate <- Rairuoho.coordinate %>% mutate(treatment = replace(treatment, treatment =="nutrient", "enriched"))
head(Rairuoho.mutate, 3)
tail(Rairuoho.mutate, 5)
Rairuoho <- subset(rairuoho[1:11])
Rairuoho <- subset("rairuoho"[1:11])
Rairuoho <- subset(rairuoho, [1:11])
Rairuoho <- subset(rairuoho, [1:11])
Rairuoho <- subset(rairuoho, [1:11])
Rairuoho <- subset(rairuoho[1:11])
Rairuoho
Rairuoho <- %>% subset(rairuoho[1:11])
subset(rairuoho[1:11])
Rairuoho.days <- rairuoho %>%pivot_longer(cols=starts_with("day"),
names_to = "day",
names_prefix = "day",
values_to = "length",
values_drop_na = "TRUE")
head(rairuoho)
Rairuoho <- subset(rairuoho[,1:11])
Rairuoho <- subset(rairuoho[1:11,])
Rairuoho <- subset(rairuoho[,1:11])
Rairuoho
library(tidyverse)
knitr::opts_chunk$set(echo = FALSE)
a
a <- c("M", "F", "F", "U", "F", "M", "M", "M", "F", "U")
typeof(a)
class(a)
a.fact <-as.factor(a)
a.fact
mode(a.fact)
typeof(a.fact)
attributes(a.fact)
$levels
attributes(a.fact)$level
attributes(a.fact)$level$factor
attributes(a.fact)$level $factor
attributes(a.fact)$factor
attributes(a.fact)$level $class
attributes(a.fact)$class
levels(a.fact)
factor(a, levels=c("U", "F", "M"))
levels(a.fact)
library(datasets)
iris(head)
datasets::iris
str(iris)
iris.sub <-subset(iris, Species == "setosa" | Species == "virginica")
levels(iris.sub$Species)
boxplot(Petal.Width ~ Species, iris.sub, horizontal = TRUE)
droplevels(iris.sub, Species)
droplevels(iris.sub$Species)
boxplot(Petal.Width ~ Species, iris.sub, horizontal = TRUE)
boxplot(Petal.Width ~ Species, iris.sub, horizontal = TRUE)
a <- c("M", "F", "F", "U", "F", "M", "M", "M", "F", "U")
typeof(a)
class(a)
a.fact <-as.factor(a)
a.fact
mode(a.fact)
typeof(a.fact)
a.fact <-as.factor(a)
a.fact
mode(a.fact)
typeof(a.fact)
attributes(a.fact)$level
attributes(a.fact)$class
levels(a.fact)
factor(a, levels=c("U", "F", "M"))
attributes(a.fact)
$level
attributes(a.fact)$level
attributes(a.fact)$class
levels(a.fact)
factor(a, levels=c("U", "F", "M"))
A <- data.frame(
x = c(7.3, 29.4, 29.4, 2.9, 12.3, 7.5, 36.0, 4.8, 18.8, 4.2),
y = c(5.2, 26.6, 31.2, 2.2, 13.8, 7.8, 35.2, 8.6, 20.3, 1.1) )
B <- c(TRUE, FALSE)
C <- c("apples", "oranges", "round")
my.lst <- list(A = A, B = B, C = C)
str(my.lst)
my.lst$A
my.lst[[2]]
my.lst$A
my.lst[[1]]
my.lst[[3]]
my.lst[[1]]
A <- data.frame(
x = c(7.3, 29.4, 29.4, 2.9, 12.3, 7.5, 36.0, 4.8, 18.8, 4.2),
y = c(5.2, 26.6, 31.2, 2.2, 13.8, 7.8, 35.2, 8.6, 20.3, 1.1) )
my.lst <- list(A = A, B = B, C = C)
str(my.lst)
my.lst$A
my.lst[[1]]
my.lst[[2]]
my.lst[[1]]
a.fact <-as.factor
a.fact
mode(a.fact)
typeof(a.fact)
a <- c("M", "F", "F", "U", "F", "M", "M", "M", "F", "U")
typeof(a)
class(a)
a.fact <-as.factor
a.fact
mode(a.fact)
typeof(a.fact)
a.fact <-as.factor(a)
a.fact
mode(a.fact)
typeof(a.fact)
attributes(a.fact)$level
attributes(a.fact)$class
levels(a.fact)
factor(a, levels=c("U", "F", "M"))
